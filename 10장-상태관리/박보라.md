# 10ì¥ ìƒíƒœ ê´€ë¦¬

## 10.1 ìƒíƒœê´€ë¦¬

1. ìƒíƒœë€

ì‹œê°„ì´ ì§€ë‚˜ë©´ ë³€í•˜ëŠ” ë™ì ì¸ ë°ì´í„° (ê³ ì • ê°’ì´ ì•„ë‹˜)

### local state

- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬ ë˜ëŠ” ë°ì´í„°
- `useState`, `useReducer` ì‚¬ìš©
- ex. ì²´í¬ë°•ìŠ¤ ì—¬ë¶€, í¼ì˜ ì…ë ¥ê°’

### global state

- ì•± ì „ì²´ì—ì„œ ê³µìœ í•˜ëŠ” ë°ì´í„°
- `props drilling` ë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•œ ëŒ€ì²´ì œ

### server state

- ì™¸ë¶€ì—ì„œ ì €ì¥í•´ì•¼ í•˜ëŠ” ë°ì´í„°
- `react-query`, `swr` ê°™ì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìš©
- ex. ì‚¬ìš©ì ì •ë³´, ê¸€ ëª©ë¡


2. ìƒíƒœë¥¼ ì˜ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê°€ì´ë“œ

- ìƒíƒœê°€ ë§ì„ ìˆ˜ë¡ ë¦¬ë Œë”ë§ì´ ë§ì´ ë¨ -> ì„±ëŠ¥ì— ì˜í–¥ì´ ê°
- ë”°ë¼ì„œ, ê°€ëŠ¥í•œ Stateless Componentë¥¼ ë§Œë“œëŠ”ê²Œ ì¢‹ìŒ

ğŸ Check Point

1ï¸âƒ£ ì‹œê°„ì´ ì§€ë‚˜ë„ ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì¸ê°€? 

- ê°ì²´ì˜ ì°¸ì¡° ë™ì¼ì„± ìœ ì§€í•´ì„œ ë³€ê²½ë˜ì§€ ì•Šì€ ê°’ì„ì„ ë¦¬ì•¡íŠ¸ê°€ ì¸ì‹í•˜ê²Œ í•˜ëŠ” ê²ƒ

- `useState`ì˜ ì´ˆê¸°ê°’ë§Œ ì§€ì •í•œë‹¤.

- `useRef`ë¥¼ ì‚¬ìš©í•œë‹¤.
    - useRefëŠ” ë§¤ ë Œë”ë§ ë§ˆë‹¤ ë™ì¼í•œ ref ê°ì²´ë¥¼ ì œê³µí•œë‹¤.

2ï¸âƒ£ íŒŒìƒëœ ê°’ì¸ê°€?

- ë¶€ëª¨ì—ê²Œì„œ ì „ë‹¬ë°›ëŠ” propsì´ê±°ë‚˜ ê¸°ì¡´ ìƒíƒœì—ì„œ ê³„ì‚°ë  ìˆ˜ ìˆëŠ” ê°’ì€ ìƒíƒœê°€ ì•„ë‹ˆë‹¤.

- ë¶€ëª¨ì—ì„œ ì „ë‹¬ë°›ì€ propsë¥¼ ìƒíƒœë¡œ ê´€ë¦¬í•˜ê²Œ ë  ê²½ìš°, ë™ì¼ ì¶œì²˜ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì¶œì²˜ì—ì„œ ë°ì´í„° ê°±ì‹ ì´ ë°œìƒí•˜ê²Œ ë¨
  - ë”°ë¼ì„œ, ë°ì´í„°ì˜ ì •í™•ì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ì–´ë ¤ì›€.


```tsx
import { useState } from 'react';

type UserEmailProps = {
    initialEmail: string;
}

const UserEmail: React.VFC<UesrEmailProps> = ({ initialEmail }) => {
    const [email, setEmail] = useState(initialEmail);

    const onChangeEmail = (event: React.ChagneEvent<HTMlInputElement>) => {
        setEmail(event.target.value);
    };

    return (
        <div>
            <input type="text" value={email} onChagne={onChangeEmail}>
        </div>
    )
}

```

> ğŸ’¡ ë°ì´í„° ìƒíƒœë¥¼ ë™ê¸°í™” í•˜ê¸° ìœ„í•´ `useEffect`ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?
>
> `useEffect`ë¥¼ ì‚¬ìš©í•œ ë™ê¸°í™” ì‘ì—…ì€ ì™¸ë¶€ ë°ì´í„° (ì˜ˆ: `localStorage`)ì™€ ë™ê¸°í™” ë  ë•Œë§Œ ì‚¬ìš©í•´ì•¼ í•¨.
> ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” ë°ì´í„° ìƒíƒœë¥¼ ë™ê¸°í™” í•˜ëŠ” ê²½ìš°, ê°œë°œìê°€ ì¶”ì í•˜ê¸° ì–´ë ¤ìš´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ

-> **ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸°(Lifting Statg Up)** ê¸°ë²• 

```tsx
import React from 'react';

type UserEmailProps = {
    email: string;
    setEmail: React.Dispatch<React.SetStateAction<string>>;
};

export const UserEmail: React.FC<UserEmailProps> = ({ email, setEmail }) => {
    const onChangeEmail = (event: React.ChangeEvent<HTMLInputElement>) => {
        setEmail(event.target.value);
    };

    return (
        <div>
            <input type="text" value={email} onChange={onChangeEmail} />
        </div>
    );
};

```
- ë‹¨ì¼í•œ ì¶œì²˜ì—ì„œ ë°ì´í„°ê°€ ë³€ê²½ë˜ë„ë¡ í•œë‹¤.


3. ì „ì—­ ìƒíƒœ ê´€ë¦¬ì™€ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

## 10.2 ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

1. mobx

2. redux

3. recoil

4. zustand

5. jotai