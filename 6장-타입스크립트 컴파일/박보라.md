# 6장 타입스크립트 컴파일

## 6.1 JS 런타임, TS 컴파일

- 자바스크립트 런타임 : 브라우저나 node.js에서 실행되는 환경
- 타입스크립트 컴파일 : 런타임 전에 ts -> js 로 변환되는 환경 (트랜스파일이라고도 함)

### 6.1.1 런타임 vs 컴파일타임

- JS : 대표적인 고수준 언어

따라서 기계가 이해하기 위해서 저수준 언어로 번역되어야 한다.

- 런타임 : 프로그램이 실행되는 시점
- 컴파일타임 : 고수준 언어에서 저수준 언어로 변환되는 시점

### 6.1.2 JS 런타임

- JS가 실행되는 환경
- 브라우저나 node.js 환경에서 실행되는 프로그램

### 6.1.3 TS 컴파일

- TS는 tsc 라는 컴파일러 통해 typescript 코드를 javascript 코드로 바꾸는 과정
- `.ts`가 붙은 파일을 찾아서 `.js`로 바꿈

---
#### 📝 tsc가 소스코드를 컴파일하고 프로그램을 실행하기 까지의 과정

1. TS 소스코드를 타입스크립트 AST로 만듬 (tsc)
2. 타입 검사기가 AST를 확인하고 타입을 확인함 (tsc)
3. TS AST를 JS 소스로 변환 (tsc)
4. JS 소스코드를 JS AST로 변환 (런타임)
5. AST가 바이트 코드로 변환 (런타임)
6. 런타임에서 바이트 코드가 평가되어 프로그램 실행 (런타임)


## 6.2 TS 컴파일러의 동작

### 6.2.1 코드 검사기로서의 TS 컴파일러

- 컴파일러는 자바스크립트의 문법적인 오류를 캐치하거나, (코드 실행 전, 런타임에서 발생할 수 있는 에러를 미리 알려줌)
- 타입 검사시 오류가 발생하는 것들을 캐치할 수 있다.

### 6.2.2 코드 변환기로서의 TS 컴파일러

- 컴파일러는 ts를 js로 변환하여 런타임에서 자바스크립트를 실행시킬 수 있게 한다.
- 이때 ts 는 구버전의 js 로 변환함
- tsc가 타입 검사를 수행 후 코드 변환 시작시, 타입 오류가 있더라도 일단 컴파일은 진행된다.

## 6.3 TS 컴파일러의 구조

### 6.3.1 프로그램

- tsc 로 실행할 환경을 갖춤

### 6.3.2 스캐너

- 스캐너로 구문 분석할 타입 파일들을 검출함

### 6.3.3 파서

- 분석 대상인 애들을 의미있는 토큰 단위로 파싱함

### 6.3.4 바인더

- 개별 노드에 해당하는 의미 있는 값들을 매핑하는 역할

### 6.3.5 체커, 이미터

- 타입 검사를 수행하고, 실행결과를 반환하는 역할
