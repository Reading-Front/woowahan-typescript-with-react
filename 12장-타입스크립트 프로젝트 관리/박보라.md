# 12장 타입스크립트 프로젝트 관리

## 1. 앰비언트 타입 활용하기

앰비언트 타입(Ambient Type)
- 앰비언트 타입 선언은 타입스크립트 컴파일러에게 외부에 존재하는(타입스크립트로 직접 구현하지 않은) 값이나 라이브러리의 타입 정보를 알려주거나 확장하기 위해 사용하는 방법
- 일반적으로 값이 아닌 타입 정보만을 명시하며, `.d.ts` 확장자를 가진 선언 파일에서 작성

어디서 쓰이는가?
- 자바스크립트 라이브러리의 타입 정보 제공  
  TypeScript 프로젝트에서 외부 라이브러리(예: jQuery, Lodash 등)를 사용할 때, 해당 라이브러리의 타입 정보를 직접 정의하거나, 별도의 타입 선언 파일(`@types/패키지명`)을 설치하여 활용
- 전역 변수/함수 타입 알림
  런타임 상에 실제 값이 존재하지만 타입스크립트 파일에서는 구현이 없는 전역 변수, 함수 등을 컴파일러에 알려줄 수 있습니다.  

  예:
  ```ts
  // global.d.ts
  declare let VERSION: string;
  declare function initializeApp(config: object): void;
  ```
- 타입스크립트가 아닌 자바스크립트로 작성된 코드의 타입 확장  
  자바스크립트 프로젝트에 타입스크립트 도입 시, 기존 코드의 타입 안전성을 높이기 위해 앰비언트 타입 선언을 추가할 수 있음.


[ 정리 ]
- `.d.ts` 파일은 값의 할당이나 함수의 본문(구현부)을 포함하지 않고, 오로지 타입 선언만 허용됨
- 타입스크립트 컴파일러와 에디터(VSCode 등)는 `.d.ts` 파일의 내용을 읽어 타입 검사를 수행하고, 타입 힌트(자동완성)도 제공함.
- `declare` 사용해서 전역 스코프에 추가적인 타입 정보를 제공함.
- 앰비언트 타입 선언은 실제 동작 코드가 아닌 타입 정보만을 명시하여, 타입스크립트가 외부 자바스크립트 코드나 전역 객체의 타입을 인식할 수 있게 도와주는 도구
- 주로 외부 라이브러리, 전역 변수/함수, 기존 JS 코드 타입 확장에 활용


## 2. 스크립트와 설정 파일 활용하기

### 타입 실시간으로 에러 확인

```bash
yarn tsc -noEmit --incremental -w
```

  - `noEmit` : js 출력파일 미생성
  - `incremental` : 변경사항이 존재하는 파일만 컴파일 활성화 / 컴파일 시간 단축
  - `w` : 파일 변경 사항 모니터링

### 타입 커버리지
타입스크립트를 잘 쓰고 있는지 정량적으로 판단하기

```bash
npx type-coverage --detail
```

## 3. 타입스크립트로 마이그레이션

1.	초기 설정(점진적 마이그레이션)
- tsconfig.json
  - allowJS: true → 기존 JS 파일도 컴파일·임포트 가능
  - noImplicitAny: false → 암시적 any 오류를 잠시 허용
  - 빌드 파이프라인에 TypeScript 컴파일러(TSC) 포함
2.	변환 작업
  - 자바스크립트 파일을 하나씩 .ts / .tsx로 바꾸며
  - 필요한 타입·인터페이스와 함수 시그니처를 채워 넣음
3.	정착 단계(엄격 모드 전환)
  - 모든 파일이 TS로 바뀌면
  - allowJS: false 로 JS 지원 해제
  - noImplicitAny: true 로 암시적 any 금지
  - 타입 미비 구간을 마지막으로 정비해 타입 안정성을 확보
